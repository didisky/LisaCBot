# CORS configuration
# Comma-separated list of allowed origins for Cross-Origin requests
# Development: http://localhost:4200 (Angular dev server needs CORS)
# Production (Docker): CORS not needed when frontend and backend share same domain via Nginx proxy
#   - If using same domain: Set CORS_ALLOWED_ORIGINS to empty or your domain
#   - If using different domains: Set CORS_ALLOWED_ORIGINS=https://your-frontend-domain.com
cors.allowed.origins=${CORS_ALLOWED_ORIGINS:http://localhost:4200}

# Bot configuration
bot.poll.interval.seconds=30
bot.initial.balance=1000.0

# Risk management configuration
# Trailing stop-loss (dynamic stop-loss that follows price upward to protect profits)
# Example: Buy at 100, trailing stop 5% -> stop at 95
#          Price rises to 120 -> stop moves to 114 (keeps 5% distance from peak)
#          Price drops to 114 -> SELL (profit secured: +14%)
bot.trailing.stop.loss.enabled=true
bot.trailing.stop.loss.percentage=5.0

bot.take.profit.enabled=true
bot.take.profit.percentage=8.0

# Strategy configuration (choose: sma, ema-rsi, or composite)
bot.strategy.type=composite

# Simple Moving Average strategy
bot.strategy.sma.period=5

# EMA + RSI strategy
bot.strategy.ema.period=20
bot.strategy.rsi.period=14
bot.strategy.rsi.oversold=30
bot.strategy.rsi.overbought=70

# MACD strategy (Moving Average Convergence Divergence)
bot.strategy.macd.fast.period=12
bot.strategy.macd.slow.period=26
bot.strategy.macd.signal.period=9

# Composite strategy (multiple strategies with weighted voting)
# Comma-separated list of strategies to combine
bot.strategy.composite.strategies=sma,ema-rsi,macd
# Comma-separated weights (must sum to 100)
bot.strategy.composite.weights=30,40,30
# Thresholds for decision making (between -1 and 1)
# Buy threshold: weighted score must be >= this value to BUY
bot.strategy.composite.buy.threshold=0.5
# Sell threshold: weighted score must be <= this value to SELL
bot.strategy.composite.sell.threshold=-0.5

# Price API
bot.price.api.url=https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd

# Backtest configuration
bot.backtest.days=30
bot.backtest.initial.balance=1000.0

# Market cycle detection configuration
bot.cycle.analysis.window.days=30
bot.cycle.crash.threshold=-10.0
bot.cycle.bull.threshold=20.0
bot.cycle.volatility.low=0.02
bot.cycle.volatility.high=0.05

# Market cycle trading control
# Comma-separated list of allowed cycles for trading
# Available: ACCUMULATION, MARKUP, BULL_MARKET, DECLINE, CRASH, UNKNOWN
# Example: ACCUMULATION,MARKUP,BULL_MARKET (only trade during uptrends)
bot.cycle.allowed=ACCUMULATION,MARKUP,BULL_MARKET

# Market cycle update frequency (in hours)
# How often to re-analyze the market cycle (recommended: 24 hours = once per day)
bot.cycle.update.interval.hours=24

# PostgreSQL Database Configuration
# These values can be overridden by environment variables:
# - SPRING_DATASOURCE_URL
# - SPRING_DATASOURCE_USERNAME
# - SPRING_DATASOURCE_PASSWORD
# Default values for local development (Docker will override these)
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/lisacbot}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:lisacbot}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:lisacbot}
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true

# Logging
logging.level.com.lisacbot=INFO

# JWT Configuration
# Secret key for JWT token signing (MUST be changed in production via JWT_SECRET env var)
# Minimum 256 bits (32 characters) required for HS256 algorithm
jwt.secret=${JWT_SECRET:mySecretKeyForJwtTokenGenerationAndValidation12345678}
# JWT expiration time in milliseconds (86400000ms = 24 hours)
jwt.expiration=86400000

# Default Admin User
# These credentials are used to create the default admin user on first startup
# IMPORTANT: Change these in production via environment variables
app.admin.username=${ADMIN_USERNAME:admin}
app.admin.password=${ADMIN_PASSWORD:admin}
